tinymce.PluginManager.add("save",function(e){function n(){var n,t;return n=tinymce.DOM.getParent(e.id,"form"),!e.getParam("save_enablewhendirty")||e.isDirty()?(tinymce.triggerSave(),(t=e.getParam("save_onsavecallback"))?(e.execCallback("save_onsavecallback",e)&&(e.startContent=tinymce.trim(e.getContent({format:"raw"})),e.nodeChanged()),void 0):(n?(e.isNotDirty=!0,(!n.onsubmit||n.onsubmit())&&("function"==typeof n.submit?n.submit():e.windowManager.alert("Error: Form submit field collision.")),e.nodeChanged()):e.windowManager.alert("Error: No form element found."),void 0)):void 0}function t(){var n,t=tinymce.trim(e.startContent);return(n=e.getParam("save_oncancelcallback"))?(e.execCallback("save_oncancelcallback",e),void 0):(e.setContent(t),e.undoManager.clear(),e.nodeChanged(),void 0)}function r(){var n=this;e.on("nodeChange",function(){n.disabled(e.getParam("save_enablewhendirty")&&!e.isDirty())})}e.addCommand("mceSave",n),e.addCommand("mceCancel",t),e.addButton("save",{icon:"save",text:"Save",cmd:"mceSave",disabled:!0,onPostRender:r}),e.addButton("cancel",{text:"Cancel",icon:!1,cmd:"mceCancel",disabled:!0,onPostRender:r}),e.addShortcut("ctrl+s","","mceSave")});